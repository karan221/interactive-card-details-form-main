<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">
  <link rel="stylesheet" href="style.css">
  <title>Frontend Mentor | Interactive card details form</title>
</head>
<body>

  <img id="bg-main-desktop" src="images/bg-main-desktop.png" alt="">

  <main>
    <div id="center-box">
      <div class="fg-card">
        <div class="front">
          <img src="images/bg-card-front.png" alt="">
          <span id="disc"></span>
          <span id="circle"></span>
          <span id="number"> 0000 0000 0000 0000 </span>
          <span id="name">JANE APPLESEED</span>
          <span id="exp"> 00/00 </span>
        </div>
      </div>
      <div class="bg-card">
        <div class="back">
          <img src="images/bg-card-back.png" alt="">
          <span id="cvc"> 000 </span>
        </div>
      </div>
  
      <form action="" method="post">
        <fieldset>
          <label for="card-holder"> CARDHOLDER NAME </label>
          <input id="card-holder" type="text" placeholder="e.g. Jane Appleseed" required="true">
          <span>&nbsp;</span>
        </fieldset>
        <fieldset>
          <label for="card-number"> CARD NUMBER </label>
          <input id="card-number" type="text" inputmode="numeric" pattern="\d{16}" placeholder="e.g. 1234 5678 9123 0000" required="true">
          <span>&nbsp;</span>
        </fieldset>
        <div id="exp-cvv">
          <fieldset id="mmyy">
            <legend> EXP. DATE (MM/YY) </legend>
            <fieldset>
              <input id="month" type="text" inputmode="numeric" max="12" min="1" placeholder="MM" required="true"> <span>&nbsp;</span>
            </fieldset>
            <fieldset>
              <input id="year" type="text" inputmode="numeric" max="99" min="23" placeholder="YY" required="true"> <span>&nbsp;</span>
            </fieldset>
          </fieldset>
          <fieldset>
            <legend> CVC </legend>
            <fieldset>
              <input id="card-cvc" type="text" inputmode="numeric" pattern="\d{3,4}" placeholder="e.g. 123" required="true"> <span>&nbsp;</span>
            </fieldset>
          </fieldset>
        </div>
        <button id="sumbit">Confirm</button>
      </form>
    </div>
  </main>

  <!-- Completed state start -->

  <!-- Thank you!
  We've added your card details
  Continue -->

  <script>
    const cardName = document.getElementById('name');
    const cardNumber = document.getElementById('number');
    const cardEXP = document.getElementById('exp');
    const cardCVC = document.getElementById('cvc');

    const nameInput = document.getElementById('card-holder');
    const numberInput = document.getElementById('card-number');
    const monthInput = document.getElementById('month');
    const yearInput = document.getElementById('year');
    const cvcInput = document.getElementById('card-cvc');

    nameInput.addEventListener("keyup", () => {
      cardName.innerHTML = nameInput.value.toUpperCase();
    });
    numberInput.addEventListener("keyup", () => {
      cardNumber.innerHTML = formatCardNumber(numberInput.value.toUpperCase());
    });
    monthInput.addEventListener("keyup", () => {
      const year = cardEXP.innerText.split("/")[1]
      cardEXP.innerHTML = monthInput.value + "/" + year;
    });
    yearInput.addEventListener("keyup", () => {
      const month = cardEXP.innerText.split("/")[0]
      cardEXP.innerHTML = month + "/" + yearInput.value;
    });
    cvcInput.addEventListener("keyup", () => {
      cardCVC.innerHTML = cvcInput.value;
    });

    const formatCardNumber = (number) => {
      return String(number).replace(/(.{1,4})/g, '$1 ').trim();
      // return String(number).replace(/((.{1,4})$|(.{1,4}))/g, (_, g1, g2) => g2 ? `${g2}` : `${g1}, `);
    }
  </script>
</body>
</html>
